{"ast":null,"code":"import _objectSpread from\"D:/Desktop/ecom/frontend/my-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";// ✅ Load cart from localStorage (if it exists)\nconst savedCart=JSON.parse(localStorage.getItem(\"cart\"))||{items:[],totalQuantity:0,totalAmount:0};const cartSlice=createSlice({name:\"cart\",initialState:savedCart,reducers:{addToCart:(state,action)=>{const item=action.payload;const existingItem=state.items.find(i=>i.id===item.id);if(existingItem){existingItem.quantity+=1;}else{state.items.push(_objectSpread(_objectSpread({},item),{},{quantity:1}));}state.totalQuantity+=1;state.totalAmount+=item.price;// ✅ Save to localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(state));},removeFromCart:(state,action)=>{const id=action.payload;const item=state.items.find(i=>i.id===id);if(item){state.totalQuantity-=item.quantity;state.totalAmount-=item.price*item.quantity;state.items=state.items.filter(i=>i.id!==id);}// ✅ Save to localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(state));},increaseQuantity:(state,action)=>{const id=action.payload;const item=state.items.find(i=>i.id===id);if(item){item.quantity+=1;state.totalQuantity+=1;state.totalAmount+=item.price;}// ✅ Save to localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(state));},decreaseQuantity:(state,action)=>{const id=action.payload;const item=state.items.find(i=>i.id===id);if(item&&item.quantity>1){item.quantity-=1;state.totalQuantity-=1;state.totalAmount-=item.price;}else if(item&&item.quantity===1){state.items=state.items.filter(i=>i.id!==id);state.totalQuantity-=1;state.totalAmount-=item.price;}// ✅ Save to localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(state));},clearCart:state=>{state.items=[];state.totalQuantity=0;state.totalAmount=0;// ✅ Remove from localStorage on logout or manual clear\nlocalStorage.removeItem(\"cart\");}}});export const{addToCart,removeFromCart,increaseQuantity,decreaseQuantity,clearCart}=cartSlice.actions;export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","savedCart","JSON","parse","localStorage","getItem","items","totalQuantity","totalAmount","cartSlice","name","initialState","reducers","addToCart","state","action","item","payload","existingItem","find","i","id","quantity","push","_objectSpread","price","setItem","stringify","removeFromCart","filter","increaseQuantity","decreaseQuantity","clearCart","removeItem","actions","reducer"],"sources":["D:/Desktop/ecom/frontend/my-project/src/slices/cartSlices.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// ✅ Load cart from localStorage (if it exists)\r\nconst savedCart = JSON.parse(localStorage.getItem(\"cart\")) || {\r\n  items: [],\r\n  totalQuantity: 0,\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: savedCart,\r\n  reducers: {\r\n  addToCart: (state, action) => {\r\n  const item = action.payload;\r\n  const existingItem = state.items.find(i => i.id === item.id);\r\n\r\n  if (existingItem) {\r\n    existingItem.quantity += 1;\r\n  } else {\r\n    state.items.push({ ...item, quantity: 1 });\r\n  }\r\n\r\n  state.totalQuantity += 1;\r\n  state.totalAmount += item.price;\r\n\r\n      // ✅ Save to localStorage\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    },\r\n\r\n    removeFromCart: (state, action) => {\r\n      const id = action.payload;\r\n      const item = state.items.find((i) => i.id === id);\r\n\r\n      if (item) {\r\n        state.totalQuantity -= item.quantity;\r\n        state.totalAmount -= item.price * item.quantity;\r\n        state.items = state.items.filter((i) => i.id !== id);\r\n      }\r\n\r\n      // ✅ Save to localStorage\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    },\r\n\r\n    increaseQuantity: (state, action) => {\r\n      const id = action.payload;\r\n      const item = state.items.find((i) => i.id === id);\r\n\r\n      if (item) {\r\n        item.quantity += 1;\r\n        state.totalQuantity += 1;\r\n        state.totalAmount += item.price;\r\n      }\r\n\r\n      // ✅ Save to localStorage\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    },\r\n\r\n    decreaseQuantity: (state, action) => {\r\n      const id = action.payload;\r\n      const item = state.items.find((i) => i.id === id);\r\n\r\n      if (item && item.quantity > 1) {\r\n        item.quantity -= 1;\r\n        state.totalQuantity -= 1;\r\n        state.totalAmount -= item.price;\r\n      } else if (item && item.quantity === 1) {\r\n        state.items = state.items.filter((i) => i.id !== id);\r\n        state.totalQuantity -= 1;\r\n        state.totalAmount -= item.price;\r\n      }\r\n\r\n      // ✅ Save to localStorage\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    },\r\n\r\n    clearCart: (state) => {\r\n      state.items = [];\r\n      state.totalQuantity = 0;\r\n      state.totalAmount = 0;\r\n\r\n      // ✅ Remove from localStorage on logout or manual clear\r\n      localStorage.removeItem(\"cart\");\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addToCart,\r\n  removeFromCart,\r\n  increaseQuantity,\r\n  decreaseQuantity,\r\n  clearCart,\r\n} = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}